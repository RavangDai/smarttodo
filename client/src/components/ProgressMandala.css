/* ════════════════════════════════════════════════════════════════
   PROGRESS MANDALA
   Sacred geometry progress indicator
   ════════════════════════════════════════════════════════════════ */

.progress-mandala {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    position: relative;
}

.progress-mandala svg {
    transition: transform 0.3s ease, filter 0.3s ease;
}

.progress-mandala:hover svg {
    transform: scale(1.1);
}

/* Background glow when complete */
.progress-mandala.complete svg {
    filter: drop-shadow(0 0 4px rgba(255, 107, 53, 0.5));
}

/* Dissolve animation when task is 100% complete */
.progress-mandala.dissolving svg {
    animation: mandala-dissolve 1.5s ease-out forwards;
}

@keyframes mandala-dissolve {
    0% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
        filter: drop-shadow(0 0 8px rgba(255, 107, 53, 0.8));
    }

    50% {
        transform: scale(1.3) rotate(180deg);
        opacity: 0.8;
        filter: drop-shadow(0 0 20px rgba(255, 107, 53, 1));
    }

    100% {
        transform: scale(0) rotate(360deg);
        opacity: 0;
        filter: drop-shadow(0 0 0 transparent);
    }
}

/* Mandala background circle */
.mandala-bg {
    fill: none;
    stroke: var(--color-border);
    stroke-width: 1;
    opacity: 0.3;
}

/* Petal styling */
.mandala-petal {
    fill: var(--color-border);
    stroke: none;
    transition: fill 0.3s ease, opacity 0.3s ease, transform 0.3s ease;
    transform-origin: center;
}

.mandala-petal.filled {
    fill: var(--color-ai);
    animation: petal-fill 0.4s ease-out forwards;
}

@keyframes petal-fill {
    0% {
        transform: scale(0.5);
        opacity: 0;
    }

    50% {
        transform: scale(1.2);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Center circle */
.mandala-center {
    fill: var(--color-surface);
    stroke: var(--color-border);
    stroke-width: 1;
    transition: all 0.3s ease;
}

.mandala-center.complete {
    fill: var(--color-ai);
    stroke: var(--color-ai);
    animation: center-pulse 1s ease-in-out infinite;
}

@keyframes center-pulse {

    0%,
    100% {
        transform-origin: center;
        r: 5;
    }

    50% {
        r: 6;
    }
}

/* Inner decorative ring */
.mandala-inner {
    fill: var(--color-bg);
    stroke: none;
}

/* Progress text */
.mandala-text {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-secondary);
    min-width: 28px;
}

/* Hover state - petals gently rotate */
.progress-mandala:hover .mandala-petals {
    animation: petals-rotate 4s linear infinite;
}

@keyframes petals-rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Complete state - golden glow */
.progress-mandala.complete .mandala-petal.filled {
    fill: #ff9a4d;
}

.progress-mandala.complete .mandala-text {
    color: var(--color-ai);
    font-weight: 600;
}